define("ebla-form:views/fields/layout","views/fields/enum",function(e){return e.extend({detailTemplate:"ebla-form:fields/layout/detail",data:function(){var t=e.prototype.data.call(this);return t.url=this.getUrl(),t},getUrl:function(){return`${this.getConfig().get("siteUrl")}#Admin/layouts/scope=${this.model.get("entity")}&type=${this.model.get(this.name)}&em=true`},setupOptions:function(){var t,e=this.model.get("entity"),s=["detail","detailSmall"],i=(this.model.isNew()&&s.unshift(""),this.getMetadata().get(["clientDefs",e,"additionalLayouts"])||{});for(t in i)i.hasOwnProperty(t)&&"detail"===i[t].type&&s.push(t);this.params.options=s},setupTranslatedOptions:function(){this.translatedOptions=this.translatedOptions||{},this.translatedOptions[""]=this.getLanguage().translateOption("","layout","EblaForm"),this.params.options.forEach(t=>{""!==t&&(this.translatedOptions[t]=this.getLanguage().translateOption(t,"layout","EblaForm"))})},setup:function(){e.prototype.setup.call(this),this.setupOptions(),this.setupTranslatedOptions(),this.listenTo(this.model,"change",function(t){t.hasChanged("entity")&&(this.setupOptions(),this.setupTranslatedOptions(),this.model.set(this.name,""),this.reRender())},this)}})});