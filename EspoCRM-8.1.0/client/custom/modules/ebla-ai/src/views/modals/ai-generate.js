define("ebla-ai:views/modals/ai-generate",["views/modal","model"],function(e,t){return e.extend({templateContent:`
        <div class="complex-text-container">{{complexText info}}</div>
        <div class="record no-side-margin">{{{record}}}</div>
    `,data:function(){return{info:this.translate("aiGenerateInfo","messages","Ai")}},setup:function(){this.headerText=this.translate("AI Generate"),this.buttonList=[{name:"insert",style:"danger",label:"Insert",onClick:()=>this.actionInsert()},{name:"copy",style:"primary",label:"Copy",onClick:()=>this.actionCopy()},{name:"cancel",label:"Cancel"}];var e=this.model=new t;e.name="Ai",e.setDefs({fields:{prompt:{type:"varchar",view:"ebla-ai:views/modals/ai-generate/fields/prompt",required:!0},output:{type:"text",copyToClipboard:!0}}}),e.set({prompt:"",output:"None"}),this.createView("record","views/record/edit-for-modal",{scope:"Ai",selector:".record",model:this.model,parentModel:this.options.model,detailLayout:[{rows:[[{name:"prompt",labelText:this.translate("prompt","fields","Ai"),params:{readyToChange:!0,disableAiGenerate:!0,parentModel:this.options.model}},{name:"send",labelText:this.translate("action","fields","Ai"),params:{readOnly:!0,parentModel:this.options.model},view:"ebla-ai:views/modals/ai-generate/fields/send"}],[{name:"output",labelText:this.translate("output","fields","Ai"),params:{readOnly:!0,copyToClipboard:!0}},!1]]}]},e=>{this.recordView=e})},actionInsert:function(){this.recordView.fetch(),this.model.get("output")&&"None"!==this.model.get("output")&&(this.trigger("insert",this.model.attributes),this.close())},actionCopy:function(){this.recordView.fetch(),this.model.get("output")&&"None"!==this.model.get("output")&&navigator.clipboard.writeText(this.model.get("output")).then(()=>{Espo.Ui.success(this.translate("Copied to clipboard"))})}})});